#
# Makefile generated by:
# CodeBench 0.23
#
# Project: WacomTablet.usbfd
#
# Created on: 20-04-2012 16:12:01
#
#

CC = SDK:gcc/bin/gcc
OBJS = cx.o TabletList.o WacomHandler.o \
	 WacomTablet.o window.o

OBJS_REV = WacomTablet.usbfd_rev.o

OBJS_PREFS = WacomPrefs.o TabletList.o

OBJS_PREFS_REV = WacomPrefs_rev.o

BIN = WacomTablet.usbfd

INCPATH = -I.

CFLAGS = $(INCPATH) -g -Wall  -Wwrite-strings

LDFLAGS = -g -nostartfiles

LIBS = 
#	add any extra linker libraries you want here

.PHONY: all all-before all-after clean clean-custom revision

all: all-before ../$(BIN) ../WacomPrefs all-after

all-before:
#	You can add rules here to execute before the project is built

all-after:
#	You can add rules here to execute after the project is built

clean: clean-custom
	rm $(OBJS) $(OBJS_REV) $(OBJS_PREFS) $(OBJS_PREFS_REV) $(BIN)

../$(BIN): WacomTablet_locale.h $(OBJS) $(OBJS_REV)
#	Debug builds require the -g or -gstabs option in CFLAGS
#	You may also need to move the LDFLAGS variable depending on the contents
	$(CC) -o $@.debug $(OBJS) $(OBJS_REV) $(LDFLAGS) $(LIBS)
	strip $@.debug -o $@

../WacomPrefs: $(OBJS_PREFS) $(OBJS_PREFS_REV)
	$(CC) -o $@.debug $^ -lauto
	strip $@.debug -o $@

WacomTablet.usbfd_rev.h : $(OBJS)
	revbump WacomTablet.usbfd sub

WacomPrefs_rev.h : $(OBJS_PREFS)
	revbump WacomPrefs sub

revision:
	revbump WacomTablet
	revbump WacomPrefs

cx.o: cx.c WacomTablet.h

TabletList.o: TabletList.c WacomTablet.h

WacomHandler.o: WacomHandler.c WacomTablet.h

WacomTablet.o: WacomTablet.c WacomTablet.h

window.o: WacomTablet_locale.h WacomTablet.h

WacomTablet_locale.h: WacomTablet.cd
	echo coucou
	CatComp $< CFILE $@ NOCODE

WacomTablet.usbfd_rev.o: WacomTablet.usbfd_rev.c WacomTablet.usbfd_rev.h

WacomPrefs_rev.o: WacomPrefs_rev.c WacomPrefs_rev.h
